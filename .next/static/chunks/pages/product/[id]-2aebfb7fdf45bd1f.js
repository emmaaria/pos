(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[360],{2379:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/product/[id]",function(){return r(8972)}])},9270:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var a=r(5893);function n(){return(0,a.jsx)("div",{className:"loader"})}},8972:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return b},default:function(){return v}});var a=r(4051),n=r.n(a),s=r(5893),o=r(5688),i=r(9008),c=r(5538),l=r(9669),u=r.n(l),d=r(9755),h=r.n(d),m=r(7294),p=r(4849),f=r(9270);function g(e,t,r,a,n,s,o){try{var i=e[s](o),c=i.value}catch(l){return void r(l)}i.done?t(c):Promise.resolve(c).then(a,n)}function x(e){return function(){var t=this,r=arguments;return new Promise((function(a,n){var s=e.apply(t,r);function o(e){g(s,a,n,o,i,"next",e)}function i(e){g(s,a,n,o,i,"throw",e)}o(void 0)}))}}var b=!0;function v(e){var t=e.user,r=e.id,a=(0,m.useState)(),l=a[0],d=a[1],g=(0,m.useState)(),b=g[0],v=g[1],j=(0,m.useState)(),y=j[0],N=j[1],w=(0,m.useState)(!0),C=w[0],k=w[1],P=(0,m.useState)(!1),_=P[0],E=P[1],A={headers:{Authorization:"Bearer ".concat(t.token)}};(0,m.useEffect)((function(){function e(){return(e=x(n().mark((function e(){var t,r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u().get("".concat("//pos-backend.webxcode.xyz/api","/category?allData=true"),A);case 3:!0===(t=e.sent).data.status&&v(t.data.categories),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:return e.prev=10,e.next=13,u().get("".concat("//pos-backend.webxcode.xyz/api","/unit?allData=true"),A);case 13:!0===(r=e.sent).data.status&&N(r.data.units),e.next=20;break;case 17:e.prev=17,e.t1=e.catch(10),console.log(e.t1);case 20:case"end":return e.stop()}}),e,null,[[0,7],[10,17]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[v,N]),(0,m.useEffect)((function(){u().get("".concat("//pos-backend.webxcode.xyz/api","/product/").concat(r),A).then((function(e){!0===e.data.status&&(d(e.data.product),k(!1))})).catch((function(e){console.log(e)}))}),[]);var S=function(){var e=x(n().mark((function e(t){var a,s,o,i,l,d;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),c.Am.loading("Submitting",{position:"bottom-right",theme:"dark"}),E(!0),a=h()(".name").val(),s=h()(".category").val(),o=h()(".unit").val(),i=h()(".price").val(),l=h()(".purchasePrice").val(),d=h()(".weight").val(),""!==a){e.next=14;break}return c.Am.dismiss(),c.Am.error("Name is required",{position:"bottom-left",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"dark"}),E(!1),e.abrupt("return");case 14:return e.prev=14,e.next=17,u().post("".concat("//pos-backend.webxcode.xyz/api","/product/update"),{id:r,name:a,category:s,unit:o,price:i,weight:d,purchase_price:l},A);case 17:!0===e.sent.data.status?(c.Am.dismiss(),c.Am.success("Successfully Updated",{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"dark"}),E(!1)):(c.Am.dismiss(),c.Am.error(t.response.data.errors,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"dark"}),E(!1)),e.next=26;break;case 21:e.prev=21,e.t0=e.catch(14),c.Am.dismiss(),c.Am.error(e.t0.response.data,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"dark"}),E(!1);case 26:case"end":return e.stop()}}),e,null,[[14,21]])})));return function(t){return e.apply(this,arguments)}}();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.default,{children:(0,s.jsx)("title",{children:"Edit Product"})}),_&&!0===_&&(0,s.jsx)(f.Z,{}),(0,s.jsx)(c.Ix,{}),(0,s.jsx)(o.Z,{user:t,title:"Edit Product",children:(0,s.jsx)("div",{className:"content",children:(0,s.jsx)("div",{className:"custom-card",children:(0,s.jsxs)("form",{onSubmit:S,children:[(0,s.jsxs)("div",{className:"mb-3 row",children:[(0,s.jsxs)("div",{className:"col-md-6",children:[(0,s.jsx)("label",{htmlFor:"name",className:"form-label",children:"Product Name"}),l&&!1===C&&(0,s.jsx)("input",{type:"text",className:"form-control name",id:"name",required:!0,defaultValue:l.name})||(0,s.jsx)(p.y,{baseColor:"rgba(249, 58, 11, 0.1)",highlightColor:"#212130",children:(0,s.jsx)(p.Z,{width:"100%",height:40})})]}),(0,s.jsxs)("div",{className:"col-md-6",children:[(0,s.jsx)("label",{htmlFor:"category",className:"form-label",children:"Category"}),l&&!1===C&&(0,s.jsxs)("select",{className:"form-control category",defaultValue:l.category,children:[(0,s.jsx)("option",{value:"",children:"Choose Category"}),b&&b.map((function(e){return(0,s.jsx)("option",{value:e.id,children:e.name},"cat-".concat(e.id))}))]},"".concat(Math.floor(1e3*Math.random()),"-min"))||(0,s.jsx)(p.y,{baseColor:"rgba(249, 58, 11, 0.1)",highlightColor:"#212130",children:(0,s.jsx)(p.Z,{width:"100%",height:40})})]})]}),(0,s.jsxs)("div",{className:"mb-3 row",children:[(0,s.jsxs)("div",{className:"col-md-6",children:[(0,s.jsx)("label",{htmlFor:"unit",className:"form-label",children:"Unit"}),l&&!1===C&&(0,s.jsxs)("select",{className:"form-control unit",required:!0,defaultValue:l.unit,children:[(0,s.jsx)("option",{value:"",children:"Choose Unit"}),y&&y.map((function(e){return(0,s.jsx)("option",{value:e.id,children:e.name},"unit-".concat(e.id))}))]},"".concat(Math.floor(1e3*Math.random()),"-min"))||(0,s.jsx)(p.y,{baseColor:"rgba(249, 58, 11, 0.1)",highlightColor:"#212130",children:(0,s.jsx)(p.Z,{width:"100%",height:40})})]}),(0,s.jsxs)("div",{className:"col-md-6",children:[(0,s.jsx)("label",{htmlFor:"price",className:"form-label",children:"Selling Price"}),l&&!1===C&&(0,s.jsx)("input",{type:"text",className:"form-control price",id:"price",required:!0,defaultValue:l.price})||(0,s.jsx)(p.y,{baseColor:"rgba(249, 58, 11, 0.1)",highlightColor:"#212130",children:(0,s.jsx)(p.Z,{width:"100%",height:40})})]})]}),(0,s.jsxs)("div",{className:"row mb-3",children:[(0,s.jsxs)("div",{className:"col-md-6",children:[(0,s.jsx)("label",{htmlFor:"purchasePrice",className:"form-label",children:"Purchase Price"}),l&&!1===C&&(0,s.jsx)("input",{type:"text",className:"form-control purchasePrice",id:"purchasePrice",required:!0,defaultValue:l.purchase_price})||(0,s.jsx)(p.y,{baseColor:"rgba(249, 58, 11, 0.1)",highlightColor:"#212130",children:(0,s.jsx)(p.Z,{width:"100%",height:40})})]}),(0,s.jsxs)("div",{className:"col-md-6",children:[(0,s.jsx)("label",{htmlFor:"weight",className:"form-label",children:"Weight"}),l&&!1===C&&(0,s.jsx)("input",{type:"text",className:"form-control weight",id:"weight",defaultValue:l.weight})||(0,s.jsx)(p.y,{baseColor:"rgba(249, 58, 11, 0.1)",highlightColor:"#212130",children:(0,s.jsx)(p.Z,{width:"100%",height:40})})]})]}),(0,s.jsx)("button",{className:"btn btn-success",type:"submit",children:"Save"})]})})})})]})}},4849:function(e,t,r){"use strict";r.d(t,{y:function(){return i},Z:function(){return o}});var a=r(7294);const n=a.createContext({});function s({baseColor:e,highlightColor:t,width:r,height:a,borderRadius:n,circle:s,direction:o,duration:i,enableAnimation:c=true}){const l={};return"rtl"===o&&(l["--animation-direction"]="reverse"),"number"===typeof i&&(l["--animation-duration"]=`${i}s`),c||(l["--pseudo-element-display"]="none"),"string"!==typeof r&&"number"!==typeof r||(l.width=r),"string"!==typeof a&&"number"!==typeof a||(l.height=a),"string"!==typeof n&&"number"!==typeof n||(l.borderRadius=n),s&&(l.borderRadius="50%"),"undefined"!==typeof e&&(l["--base-color"]=e),"undefined"!==typeof t&&(l["--highlight-color"]=t),l}function o({count:e=1,wrapper:t,className:r,containerClassName:o,containerTestId:i,circle:c=!1,style:l,...u}){var d,h,m;const p=a.useContext(n),f={...u};for(const[a,n]of Object.entries(u))"undefined"===typeof n&&delete f[a];const g={...p,...f,circle:c},x={...l,...s(g)};let b="react-loading-skeleton";r&&(b+=` ${r}`);const v=null!==(d=g.inline)&&void 0!==d&&d,j=[],y=Math.ceil(e);for(let n=0;n<y;n++){let t=x;if(y>e&&n===y-1){const r=null!==(h=t.width)&&void 0!==h?h:"100%",a=e%1,n="number"===typeof r?r*a:`calc(${r} * ${a})`;t={...t,width:n}}const r=a.createElement("span",{className:b,style:t,key:n},"\u200c");v?j.push(r):j.push(a.createElement(a.Fragment,{key:n},r,a.createElement("br",null)))}return a.createElement("span",{className:o,"data-testid":i,"aria-live":"polite","aria-busy":null===(m=g.enableAnimation)||void 0===m||m},t?j.map(((e,r)=>a.createElement(t,{key:r},e))):j)}function i({children:e,...t}){return a.createElement(n.Provider,{value:t},e)}}},function(e){e.O(0,[571,619,669,782,688,774,888,179],(function(){return t=2379,e(e.s=t);var t}));var t=e.O();_N_E=t}]);