(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[360],{2379:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/product/[id]",function(){return r(8972)}])},9270:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(5893);function a(){return(0,n.jsx)("div",{className:"loader"})}},8972:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return g},default:function(){return v}});var n=r(4051),a=r.n(n),o=r(5893),s=r(5688),i=r(9008),c=r(782),l=r(9669),u=r.n(l),d=r(9755),h=r.n(d),m=r(7294),p=r(4849),f=r(9270);function b(e,t,r,n,a,o,s){try{var i=e[o](s),c=i.value}catch(l){return void r(l)}i.done?t(c):Promise.resolve(c).then(n,a)}function x(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function s(e){b(o,n,a,s,i,"next",e)}function i(e){b(o,n,a,s,i,"throw",e)}s(void 0)}))}}var g=!0;function v(e){var t=e.user,r=e.id,n=(0,m.useState)(),l=n[0],d=n[1],b=(0,m.useState)(),g=b[0],v=b[1],y=(0,m.useState)(),j=y[0],N=y[1],w=(0,m.useState)(!0),C=w[0],k=w[1],P=(0,m.useState)(!1),_=P[0],E=P[1],A={headers:{Authorization:"Bearer ".concat(t.token)}};(0,m.useEffect)((function(){function e(){return(e=x(a().mark((function e(){var t,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u().get("".concat("//pos-backend.webxcode.xyz/api","/category?allData=true"),A);case 3:!0===(t=e.sent).data.status&&v(t.data.categories),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:return e.prev=10,e.next=13,u().get("".concat("//pos-backend.webxcode.xyz/api","/unit?allData=true"),A);case 13:!0===(r=e.sent).data.status&&N(r.data.units),e.next=20;break;case 17:e.prev=17,e.t1=e.catch(10),console.log(e.t1);case 20:case"end":return e.stop()}}),e,null,[[0,7],[10,17]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[v,N]),(0,m.useEffect)((function(){u().get("".concat("//pos-backend.webxcode.xyz/api","/product/").concat(r),A).then((function(e){!0===e.data.status&&(d(e.data.product),k(!1))})).catch((function(e){console.log(e)}))}),[]);var S=function(){var e=x(a().mark((function e(t){var n,o,s,i,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),c.Am.loading("Submitting",{position:"bottom-right",theme:"dark"}),E(!0),n=h()(".name").val(),o=h()(".category").val(),s=h()(".unit").val(),i=h()(".price").val(),l=h()(".purchasePrice").val(),""!==n){e.next=13;break}return c.Am.dismiss(),c.Am.error("Name is required",{position:"bottom-left",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"dark"}),E(!1),e.abrupt("return");case 13:return e.prev=13,e.next=16,u().post("".concat("//pos-backend.webxcode.xyz/api","/product/update"),{id:r,name:n,category:o,unit:s,price:i,purchase_price:l},A);case 16:!0===e.sent.data.status?(c.Am.dismiss(),c.Am.success("Successfully Updated",{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"dark"}),E(!1)):(c.Am.dismiss(),c.Am.error(t.response.data.errors,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"dark"}),E(!1)),e.next=25;break;case 20:e.prev=20,e.t0=e.catch(13),c.Am.dismiss(),c.Am.error(e.t0.response.data,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"dark"}),E(!1);case 25:case"end":return e.stop()}}),e,null,[[13,20]])})));return function(t){return e.apply(this,arguments)}}();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.default,{children:(0,o.jsx)("title",{children:"Edit Product"})}),_&&!0===_&&(0,o.jsx)(f.Z,{}),(0,o.jsx)(c.Ix,{}),(0,o.jsx)(s.Z,{user:t,title:"Edit Product",children:(0,o.jsx)("div",{className:"content",children:(0,o.jsx)("div",{className:"custom-card",children:(0,o.jsxs)("form",{onSubmit:S,children:[(0,o.jsxs)("div",{className:"mb-3 row",children:[(0,o.jsxs)("div",{className:"col-md-6",children:[(0,o.jsx)("label",{htmlFor:"name",className:"form-label",children:"Product Name"}),l&&!1===C&&(0,o.jsx)("input",{type:"text",className:"form-control name",id:"name",required:!0,defaultValue:l.name})||(0,o.jsx)(p.y,{baseColor:"rgba(249, 58, 11, 0.1)",highlightColor:"#212130",children:(0,o.jsx)(p.Z,{width:"100%",height:40})})]}),(0,o.jsxs)("div",{className:"col-md-6",children:[(0,o.jsx)("label",{htmlFor:"category",className:"form-label",children:"Category"}),l&&!1===C&&(0,o.jsxs)("select",{className:"form-control category",defaultValue:l.category,children:[(0,o.jsx)("option",{value:"",children:"Choose Category"}),g&&g.map((function(e){return(0,o.jsx)("option",{value:e.id,children:e.name},"cat-".concat(e.id))}))]},"".concat(Math.floor(1e3*Math.random()),"-min"))||(0,o.jsx)(p.y,{baseColor:"rgba(249, 58, 11, 0.1)",highlightColor:"#212130",children:(0,o.jsx)(p.Z,{width:"100%",height:40})})]})]}),(0,o.jsxs)("div",{className:"mb-3 row",children:[(0,o.jsxs)("div",{className:"col-md-6",children:[(0,o.jsx)("label",{htmlFor:"unit",className:"form-label",children:"Unit"}),l&&!1===C&&(0,o.jsxs)("select",{className:"form-control unit",required:!0,defaultValue:l.unit,children:[(0,o.jsx)("option",{value:"",children:"Choose Unit"}),j&&j.map((function(e){return(0,o.jsx)("option",{value:e.id,children:e.name},"unit-".concat(e.id))}))]},"".concat(Math.floor(1e3*Math.random()),"-min"))||(0,o.jsx)(p.y,{baseColor:"rgba(249, 58, 11, 0.1)",highlightColor:"#212130",children:(0,o.jsx)(p.Z,{width:"100%",height:40})})]}),(0,o.jsxs)("div",{className:"col-md-6",children:[(0,o.jsx)("label",{htmlFor:"price",className:"form-label",children:"Selling Price"}),l&&!1===C&&(0,o.jsx)("input",{type:"text",className:"form-control price",id:"price",required:!0,defaultValue:l.price})||(0,o.jsx)(p.y,{baseColor:"rgba(249, 58, 11, 0.1)",highlightColor:"#212130",children:(0,o.jsx)(p.Z,{width:"100%",height:40})})]})]}),(0,o.jsx)("div",{className:"row mb-3",children:(0,o.jsxs)("div",{className:"col-md-6",children:[(0,o.jsx)("label",{htmlFor:"purchasePrice",className:"form-label",children:"Purchase Price"}),l&&!1===C&&(0,o.jsx)("input",{type:"text",className:"form-control purchasePrice",id:"purchasePrice",required:!0,defaultValue:l.purchase_price})||(0,o.jsx)(p.y,{baseColor:"rgba(249, 58, 11, 0.1)",highlightColor:"#212130",children:(0,o.jsx)(p.Z,{width:"100%",height:40})})]})}),(0,o.jsx)("button",{className:"btn btn-success",type:"submit",children:"Save"})]})})})})]})}},4849:function(e,t,r){"use strict";r.d(t,{y:function(){return i},Z:function(){return s}});var n=r(7294);const a=n.createContext({});function o({baseColor:e,highlightColor:t,width:r,height:n,borderRadius:a,circle:o,direction:s,duration:i,enableAnimation:c=true}){const l={};return"rtl"===s&&(l["--animation-direction"]="reverse"),"number"===typeof i&&(l["--animation-duration"]=`${i}s`),c||(l["--pseudo-element-display"]="none"),"string"!==typeof r&&"number"!==typeof r||(l.width=r),"string"!==typeof n&&"number"!==typeof n||(l.height=n),"string"!==typeof a&&"number"!==typeof a||(l.borderRadius=a),o&&(l.borderRadius="50%"),"undefined"!==typeof e&&(l["--base-color"]=e),"undefined"!==typeof t&&(l["--highlight-color"]=t),l}function s({count:e=1,wrapper:t,className:r,containerClassName:s,containerTestId:i,circle:c=!1,style:l,...u}){var d,h,m;const p=n.useContext(a),f={...u};for(const[n,a]of Object.entries(u))"undefined"===typeof a&&delete f[n];const b={...p,...f,circle:c},x={...l,...o(b)};let g="react-loading-skeleton";r&&(g+=` ${r}`);const v=null!==(d=b.inline)&&void 0!==d&&d,y=[],j=Math.ceil(e);for(let a=0;a<j;a++){let t=x;if(j>e&&a===j-1){const r=null!==(h=t.width)&&void 0!==h?h:"100%",n=e%1,a="number"===typeof r?r*n:`calc(${r} * ${n})`;t={...t,width:a}}const r=n.createElement("span",{className:g,style:t,key:a},"\u200c");v?y.push(r):y.push(n.createElement(n.Fragment,{key:a},r,n.createElement("br",null)))}return n.createElement("span",{className:s,"data-testid":i,"aria-live":"polite","aria-busy":null===(m=b.enableAnimation)||void 0===m||m},t?y.map(((e,r)=>n.createElement(t,{key:r},e))):y)}function i({children:e,...t}){return n.createElement(a.Provider,{value:t},e)}}},function(e){e.O(0,[571,619,669,782,688,774,888,179],(function(){return t=2379,e(e.s=t);var t}));var t=e.O();_N_E=t}]);