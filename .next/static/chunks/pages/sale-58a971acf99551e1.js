(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[761],{2060:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sale",function(){return n(7247)}])},4689:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(5893),a=n(4849);function s(e){for(var t=e.td,n=e.tr,s=[],c=0;c<n;c++)s.push(c);for(var i=[],o=0;o<t;o++)i.push(o);return s.map((function(e,t){return(0,r.jsx)("tr",{children:i.map((function(e,t){return(0,r.jsx)("td",{children:(0,r.jsx)(a.y,{baseColor:"rgba(249, 58, 11, 0.1)",highlightColor:"#212130",children:(0,r.jsx)("p",{children:(0,r.jsx)(a.Z,{width:"100%",height:30})})})},t)}))},t)}))}},7247:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return v},default:function(){return b}});var r=n(4051),a=n.n(r),s=n(5893),c=n(5688),i=n(9008),o=n(1664),l=n(7294),d=n(9669),u=n.n(d),h=n(4689),m=n(5538),f=n(9755),p=n.n(f);function x(e,t,n,r,a,s,c){try{var i=e[s](c),o=i.value}catch(l){return void n(l)}i.done?t(o):Promise.resolve(o).then(r,a)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function c(e){x(s,r,a,c,i,"next",e)}function i(e){x(s,r,a,c,i,"throw",e)}c(void 0)}))}}var v=!0;function b(e){var t=e.user,n=(0,l.useState)(),r=n[0],d=n[1],f=(0,l.useState)([]),x=f[0],v=f[1],b=(0,l.useState)(!0),g=b[0],N=b[1],w=(0,l.useState)(null),y=w[0],k=w[1],_={headers:{Authorization:"Bearer ".concat(t.token)}};(0,l.useEffect)((function(){u().get("".concat("http://pos-backend.webxcode.xyz/api","/purchase"),_).then((function(e){!0===e.data.status&&(d(e.data.purchases.data),v(e.data.purchases.links),N(!1))})).catch((function(e){console.log(e)}))}),[]);var C=function(){var e=j(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y&&(clearTimeout(y),k(null)),k(setTimeout((function(){N(!0);var e=p()(".terms").val();u().get("".concat("http://pos-backend.webxcode.xyz/api","/purchase?name=").concat(e),_).then((function(e){!0===e.data.status&&(d(e.data.purchases.data),v(e.data.purchases.links),N(!1))})).catch((function(e){console.log(e)}))}),2e3));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=j(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.prev=1,e.next=4,u().get(t,_);case 4:!0===(n=e.sent).data.status&&(d(n.data.purchases.data),v(n.data.purchases.links),N(!1)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=j(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m.Am.loading("Deleting",{position:"bottom-right",theme:"dark"}),e.prev=1,e.next=4,u().post("".concat("http://pos-backend.webxcode.xyz/api","/purchase/delete"),{id:t},_);case 4:!0===(n=e.sent).data.status?(m.Am.dismiss(),m.Am.success("Successfully Deleted",{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"dark"}),p()(".row-id-".concat(t)).fadeOut()):(m.Am.dismiss(),m.Am.error(n.data.error,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"dark"})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),m.Am.dismiss(),m.Am.error(e.t0.response.data.errors,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"dark"});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.default,{children:(0,s.jsx)("title",{children:"Purchase"})}),(0,s.jsx)(m.Ix,{}),(0,s.jsx)(c.Z,{user:t,title:"Purchase",children:(0,s.jsx)("div",{className:"content",children:(0,s.jsxs)("div",{className:"custom-card",children:[(0,s.jsxs)("div",{className:"row",children:[(0,s.jsx)("div",{className:"col-md-9",children:(0,s.jsx)(o.default,{href:"/purchase/create",children:(0,s.jsxs)("a",{className:"btn btn-success",children:[(0,s.jsx)("i",{className:"fa-solid fa-plus"})," Add New Purchase"]})})}),(0,s.jsx)("div",{className:"col-md-3",children:(0,s.jsx)("form",{children:(0,s.jsx)("div",{className:"row",children:(0,s.jsx)("div",{className:"col",children:(0,s.jsx)("input",{type:"text",className:"form-control terms",placeholder:"Search",name:"email",onKeyUp:C,onKeyDown:C,onChange:C})})})})})]}),(0,s.jsxs)("table",{className:"table mt-4",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{width:"10%",children:"Sl"}),(0,s.jsx)("th",{width:"15%",children:"Purchase ID"}),(0,s.jsx)("th",{width:"25%",children:"Supplier Name"}),(0,s.jsx)("th",{width:"15%",children:"Amount"}),(0,s.jsx)("th",{width:"15%",children:"Note"}),(0,s.jsx)("th",{width:"20%",children:"Action"})]})}),(0,s.jsxs)("tbody",{children:[r&&r.length<=0&&(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:6,className:"text-center",children:"No Purchase Found"})}),r&&!g&&r.map((function(e,t){return(0,s.jsxs)("tr",{valign:"middle",className:"row-id-".concat(e.id),children:[(0,s.jsx)("td",{children:t+1}),(0,s.jsx)("td",{className:"text-uppercase",children:e.purchase_id}),(0,s.jsx)("td",{children:e.supplier_name}),(0,s.jsxs)("td",{children:[e.amount," Tk."]}),(0,s.jsx)("td",{children:e.comment}),(0,s.jsxs)("td",{children:[(0,s.jsx)(o.default,{href:"#",children:(0,s.jsx)("a",{className:"btn btn-success btn-sm me-2",children:(0,s.jsx)("i",{className:"fa-solid fa-barcode"})})}),(0,s.jsx)(o.default,{href:"/purchase/view/".concat(e.id),children:(0,s.jsx)("a",{className:"btn btn-success btn-sm me-2",children:(0,s.jsx)("i",{className:"fa-solid fa-eye"})})}),(0,s.jsx)(o.default,{href:"/purchase/".concat(e.id),children:(0,s.jsx)("a",{className:"btn btn-warning btn-sm me-2",children:(0,s.jsx)("i",{className:"fa-solid fa-pen-to-square"})})}),(0,s.jsx)("a",{className:"btn btn-danger btn-sm",onClick:function(t){t.preventDefault(),confirm("Want to delete?")&&A(e.id).then()},children:(0,s.jsx)("i",{className:"fa-solid fa-trash-can"})})]})]},e.id)}))||(0,s.jsx)(h.Z,{tr:3,td:6})]}),(0,s.jsx)("tfoot",{children:(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:6,children:(0,s.jsx)("nav",{className:"float-end",children:(0,s.jsx)("ul",{className:"pagination mt-3",children:x.map((function(e){return(0,s.jsx)("li",{className:"page-item ".concat(!0===e.active?"active":""),children:(0,s.jsx)("a",{className:"page-link",onClick:function(){return P(e.url)},dangerouslySetInnerHTML:{__html:e.label}})},e.label)}))})})})})})]})]})})})]})}},4849:function(e,t,n){"use strict";n.d(t,{y:function(){return i},Z:function(){return c}});var r=n(7294);const a=r.createContext({});function s({baseColor:e,highlightColor:t,width:n,height:r,borderRadius:a,circle:s,direction:c,duration:i,enableAnimation:o=true}){const l={};return"rtl"===c&&(l["--animation-direction"]="reverse"),"number"===typeof i&&(l["--animation-duration"]=`${i}s`),o||(l["--pseudo-element-display"]="none"),"string"!==typeof n&&"number"!==typeof n||(l.width=n),"string"!==typeof r&&"number"!==typeof r||(l.height=r),"string"!==typeof a&&"number"!==typeof a||(l.borderRadius=a),s&&(l.borderRadius="50%"),"undefined"!==typeof e&&(l["--base-color"]=e),"undefined"!==typeof t&&(l["--highlight-color"]=t),l}function c({count:e=1,wrapper:t,className:n,containerClassName:c,containerTestId:i,circle:o=!1,style:l,...d}){var u,h,m;const f=r.useContext(a),p={...d};for(const[r,a]of Object.entries(d))"undefined"===typeof a&&delete p[r];const x={...f,...p,circle:o},j={...l,...s(x)};let v="react-loading-skeleton";n&&(v+=` ${n}`);const b=null!==(u=x.inline)&&void 0!==u&&u,g=[],N=Math.ceil(e);for(let a=0;a<N;a++){let t=j;if(N>e&&a===N-1){const n=null!==(h=t.width)&&void 0!==h?h:"100%",r=e%1,a="number"===typeof n?n*r:`calc(${n} * ${r})`;t={...t,width:a}}const n=r.createElement("span",{className:v,style:t,key:a},"\u200c");b?g.push(n):g.push(r.createElement(r.Fragment,{key:a},n,r.createElement("br",null)))}return r.createElement("span",{className:c,"data-testid":i,"aria-live":"polite","aria-busy":null===(m=x.enableAnimation)||void 0===m||m},t?g.map(((e,n)=>r.createElement(t,{key:n},e))):g)}function i({children:e,...t}){return r.createElement(a.Provider,{value:t},e)}}},function(e){e.O(0,[571,619,669,782,688,774,888,179],(function(){return t=2060,e(e.s=t);var t}));var t=e.O();_N_E=t}]);