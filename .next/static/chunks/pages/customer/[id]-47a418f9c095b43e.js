(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[887],{102:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/customer/[id]",function(){return s(4878)}])},9270:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var r=s(5893);function a(){return(0,r.jsx)("div",{className:"loader"})}},4878:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSP:function(){return x},default:function(){return g}});var r=s(4051),a=s.n(r),o=s(5893),n=s(9629),i=s(9008),l=s(5538),c=s(9669),d=s.n(c),u=s(9755),m=s.n(u),h=s(7294),b=s(4849),f=s(9270);function p(e,t,s,r,a,o,n){try{var i=e[o](n),l=i.value}catch(c){return void s(c)}i.done?t(l):Promise.resolve(l).then(r,a)}var x=!0;function g(e){var t=e.user,s=e.id,r=(0,h.useState)(),c=r[0],u=r[1],x=(0,h.useState)(!1),g=x[0],v=x[1],j=(0,h.useState)(!0),C=j[0],N=j[1],k={headers:{Authorization:"Bearer ".concat(t.token)}};(0,h.useEffect)((function(){d().get("".concat("http://pos-backend.webxcode.xyz/api","/customer/").concat(s),k).then((function(e){console.log(e.data),!0===e.data.status&&(u(e.data.customer),N(!1))})).catch((function(e){console.log(e)}))}),[]);var w=function(){var e,t=(e=a().mark((function e(t){var r,o,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),l.Am.loading("Submitting",{position:"bottom-right",theme:"dark"}),v(!0),r=m()(".name").val(),o=m()(".mobile").val(),n=m()(".address").val(),""!==r){e.next=11;break}return l.Am.dismiss(),l.Am.error("Name is required",{position:"bottom-left",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"dark"}),v(!1),e.abrupt("return");case 11:return e.prev=11,e.next=14,d().post("".concat("http://pos-backend.webxcode.xyz/api","/customer/update"),{name:r,mobile:o,address:n,id:s},k);case 14:!0===e.sent.data.status?(l.Am.dismiss(),l.Am.success("Successfully Updated",{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"dark"}),v(!1)):(l.Am.dismiss(),l.Am.error(t.response.data.errors,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"dark"}),v(!1)),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(11),l.Am.dismiss(),l.Am.error(e.t0.response.data,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"dark"}),v(!1);case 23:case"end":return e.stop()}}),e,null,[[11,18]])})),function(){var t=this,s=arguments;return new Promise((function(r,a){var o=e.apply(t,s);function n(e){p(o,r,a,n,i,"next",e)}function i(e){p(o,r,a,n,i,"throw",e)}n(void 0)}))});return function(e){return t.apply(this,arguments)}}();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.default,{children:(0,o.jsx)("title",{children:"Edit Customer"})}),(0,o.jsx)(l.Ix,{}),g&&!0===g&&(0,o.jsx)(f.Z,{}),(0,o.jsx)(n.Z,{user:t,title:"Edit Customer",children:(0,o.jsx)("div",{className:"content",children:(0,o.jsx)("div",{className:"custom-card",children:(0,o.jsxs)("form",{onSubmit:w,children:[(0,o.jsxs)("div",{className:"mb-3",children:[(0,o.jsx)("label",{htmlFor:"name",className:"form-label",children:"Customer Name"}),c&&!1===C&&(0,o.jsx)("input",{type:"text",className:"form-control name",id:"name",required:!0,defaultValue:c.name})||(0,o.jsx)(b.y,{baseColor:"rgba(249, 58, 11, 0.1)",highlightColor:"#212130",children:(0,o.jsx)(b.Z,{width:"100%",height:40})})]}),(0,o.jsxs)("div",{className:"mb-3",children:[(0,o.jsx)("label",{htmlFor:"mobile",className:"form-label",children:"Customer Mobile"}),c&&!1===C&&(0,o.jsx)("input",{type:"text",className:"form-control mobile",id:"mobile",defaultValue:c.mobile})||(0,o.jsx)(b.y,{baseColor:"rgba(249, 58, 11, 0.1)",highlightColor:"#212130",children:(0,o.jsx)(b.Z,{width:"100%",height:40})})]}),(0,o.jsxs)("div",{className:"mb-3",children:[(0,o.jsx)("label",{htmlFor:"address",className:"form-label",children:"Customer Address"}),c&&!1===C&&(0,o.jsx)("input",{type:"text",className:"form-control address",id:"address",defaultValue:c.address})||(0,o.jsx)(b.y,{baseColor:"rgba(249, 58, 11, 0.1)",highlightColor:"#212130",children:(0,o.jsx)(b.Z,{width:"100%",height:40})})]}),(0,o.jsx)("button",{className:"btn btn-success",type:"submit",children:"Update"})]})})})})]})}}},function(e){e.O(0,[571,619,669,782,27,774,888,179],(function(){return t=102,e(e.s=t);var t}));var t=e.O();_N_E=t}]);