(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{3629:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/unit",function(){return n(8891)}])},4689:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var a=n(5893),s=n(4849);function r(t){for(var e=t.td,n=t.tr,r=[],c=0;c<n;c++)r.push(c);for(var i=[],o=0;o<e;o++)i.push(o);return r.map((function(t,e){return(0,a.jsx)("tr",{children:i.map((function(t,e){return(0,a.jsx)("td",{children:(0,a.jsx)(s.y,{baseColor:"rgba(249, 58, 11, 0.1)",highlightColor:"#212130",children:(0,a.jsx)("p",{children:(0,a.jsx)(s.Z,{width:"100%",height:30})})})},e)}))},e)}))}},8891:function(t,e,n){"use strict";n.r(e),n.d(e,{__N_SSP:function(){return v},default:function(){return g}});var a=n(4051),s=n.n(a),r=n(5893),c=n(9629),i=n(9008),o=n(1664),l=n(7294),d=n(9669),u=n.n(d),h=n(4689),m=n(9755),f=n.n(m),x=n(5538);function p(t,e,n,a,s,r,c){try{var i=t[r](c),o=i.value}catch(l){return void n(l)}i.done?e(o):Promise.resolve(o).then(a,s)}function j(t){return function(){var e=this,n=arguments;return new Promise((function(a,s){var r=t.apply(e,n);function c(t){p(r,a,s,c,i,"next",t)}function i(t){p(r,a,s,c,i,"throw",t)}c(void 0)}))}}var v=!0;function g(t){var e=t.user,n={headers:{Authorization:"Bearer ".concat(e.token)}},a=(0,l.useState)(),d=a[0],m=a[1],p=(0,l.useState)([]),v=p[0],g=p[1],b=(0,l.useState)(!0),N=b[0],w=b[1],k=(0,l.useState)(null),_=k[0],y=k[1];(0,l.useEffect)((function(){u().get("".concat("http://pos-backend.webxcode.xyz/api","/unit"),n).then((function(t){!0===t.data.status&&(m(t.data.units.data),g(t.data.units.links),w(!1))})).catch((function(t){console.log(t)}))}),[]);var C=function(){var t=j(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:_&&(clearTimeout(_),y(null)),y(setTimeout((function(){w(!0);var t=f()(".terms").val();u().get("".concat("http://pos-backend.webxcode.xyz/api","/unit?name=").concat(t),n).then((function(t){!0===t.data.status&&(m(t.data.units.data),g(t.data.units.links),w(!1))})).catch((function(t){console.log(t)}))}),2e3));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),S=function(){var t=j(s().mark((function t(e){var a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return w(!0),t.prev=1,t.next=4,u().get(e,n);case 4:!0===(a=t.sent).data.status&&(m(a.data.units.data),g(a.data.units.links),w(!1)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),A=function(){var t=j(s().mark((function t(e){var a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return x.Am.loading("Deleting",{position:"bottom-right",theme:"dark"}),t.prev=1,t.next=4,u().post("".concat("http://pos-backend.webxcode.xyz/api","/unit/delete"),{id:e},n);case 4:a=t.sent,console.log(a.data),!0===a.data.status?(x.Am.dismiss(),x.Am.success("Successfully Deleted",{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"dark"}),f()(".row-id-".concat(e)).fadeOut()):(x.Am.dismiss(),x.Am.error(a.data.error,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"dark"})),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),x.Am.dismiss(),x.Am.error(t.t0.response.data.errors,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"dark"});case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.default,{children:(0,r.jsx)("title",{children:"Units"})}),(0,r.jsx)(x.Ix,{}),(0,r.jsx)(c.Z,{user:e,title:"Units",children:(0,r.jsx)("div",{className:"content",children:(0,r.jsxs)("div",{className:"custom-card",children:[(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-md-9",children:(0,r.jsx)(o.default,{href:"/unit/create",children:(0,r.jsxs)("a",{className:"btn btn-success",children:[(0,r.jsx)("i",{className:"fa-solid fa-plus"})," Add New Unit"]})})}),(0,r.jsx)("div",{className:"col-md-3",children:(0,r.jsx)("form",{children:(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col",children:(0,r.jsx)("input",{type:"text",className:"form-control terms",placeholder:"Search unit",name:"email",onKeyUp:C,onKeyDown:C,onChange:C})})})})})]}),(0,r.jsxs)("table",{className:"table mt-4",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{width:"10%",children:"Sl"}),(0,r.jsx)("th",{width:"80%",children:"Name"}),(0,r.jsx)("th",{width:"10%",children:"Action"})]})}),(0,r.jsxs)("tbody",{children:[d&&d.length<=0&&(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:3,className:"text-center",children:"No Unit Found"})}),d&&!N&&d.map((function(t,e){return(0,r.jsxs)("tr",{valign:"middle",className:"row-id-".concat(t.id),children:[(0,r.jsx)("td",{children:e+1}),(0,r.jsx)("td",{children:t.name}),(0,r.jsxs)("td",{children:[(0,r.jsx)(o.default,{href:"/unit/".concat(t.id),children:(0,r.jsx)("a",{className:"btn btn-warning btn-sm me-2",children:(0,r.jsx)("i",{className:"fa-solid fa-pen-to-square"})})}),(0,r.jsx)("a",{className:"btn btn-danger btn-sm",onClick:function(e){e.preventDefault(),confirm("Want to delete?")&&A(t.id)},children:(0,r.jsx)("i",{className:"fa-solid fa-trash-can"})})]})]},t.id)}))||(0,r.jsx)(h.Z,{tr:3,td:3})]}),(0,r.jsx)("tfoot",{children:(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:3,children:(0,r.jsx)("nav",{className:"float-end",children:(0,r.jsx)("ul",{className:"pagination mt-3",children:v.map((function(t){return(0,r.jsx)("li",{className:"page-item ".concat(!0===t.active?"active":""),children:(0,r.jsx)("a",{className:"page-link",onClick:function(){return S(t.url)},dangerouslySetInnerHTML:{__html:t.label}})},t.label)}))})})})})})]})]})})})]})}}},function(t){t.O(0,[571,619,669,782,27,774,888,179],(function(){return e=3629,t(t.s=e);var e}));var e=t.O();_N_E=e}]);