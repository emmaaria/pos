(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[428],{9466:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/supplier",function(){return n(7145)}])},4689:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var s=n(5893),r=n(4849);function a(e){for(var t=e.td,n=e.tr,a=[],i=0;i<n;i++)a.push(i);for(var c=[],l=0;l<t;l++)c.push(l);return a.map((function(e,t){return(0,s.jsx)("tr",{children:c.map((function(e,t){return(0,s.jsx)("td",{children:(0,s.jsx)(r.y,{baseColor:"rgba(249, 58, 11, 0.1)",highlightColor:"#212130",children:(0,s.jsx)("p",{children:(0,s.jsx)(r.Z,{width:"100%",height:30})})})},t)}))},t)}))}},7145:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return v},default:function(){return b}});var s=n(4051),r=n.n(s),a=n(5893),i=n(9629),c=n(9008),l=n(1664),o=n(7294),d=n(9669),u=n.n(d),h=n(4689),p=n(9755),m=n.n(p),x=n(5538);function f(e,t,n,s,r,a,i){try{var c=e[a](i),l=c.value}catch(o){return void n(o)}c.done?t(l):Promise.resolve(l).then(s,r)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var a=e.apply(t,n);function i(e){f(a,s,r,i,c,"next",e)}function c(e){f(a,s,r,i,c,"throw",e)}i(void 0)}))}}var v=!0;function b(e){var t=e.user,n={headers:{Authorization:"Bearer ".concat(t.token)}},s=(0,o.useState)(),d=s[0],p=s[1],f=(0,o.useState)([]),v=f[0],b=f[1],g=(0,o.useState)(!0),w=g[0],N=g[1],k=(0,o.useState)(null),_=k[0],S=k[1];(0,o.useEffect)((function(){u().get("".concat("http://pos-backend.webxcode.xyz/api","/supplier"),n).then((function(e){!0===e.data.status&&(p(e.data.suppliers.data),b(e.data.suppliers.links),N(!1))})).catch((function(e){console.log(e)}))}),[]);var y=function(){var e=j(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_&&(clearTimeout(_),S(null)),S(setTimeout((function(){N(!0);var e=m()(".terms").val();u().get("".concat("http://pos-backend.webxcode.xyz/api","/supplier?name=").concat(e),n).then((function(e){!0===e.data.status&&(p(e.data.suppliers.data),b(e.data.suppliers.links),N(!1))})).catch((function(e){console.log(e)}))}),2e3));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=j(r().mark((function e(t){var s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.prev=1,e.next=4,u().get(t,n);case 4:!0===(s=e.sent).data.status&&(p(s.data.suppliers.data),b(s.data.suppliers.links),N(!1)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=j(r().mark((function e(t){var s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x.Am.loading("Deleting",{position:"bottom-right",theme:"dark"}),e.prev=1,e.next=4,u().post("".concat("http://pos-backend.webxcode.xyz/api","/supplier/delete"),{id:t},n);case 4:!0===(s=e.sent).data.status?(x.Am.dismiss(),x.Am.success("Successfully Deleted",{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"dark"}),m()(".row-id-".concat(t)).fadeOut()):(x.Am.dismiss(),x.Am.error(s.data.error,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"dark"})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),x.Am.dismiss(),x.Am.error(e.t0.response.data.errors,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"dark"});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.default,{children:(0,a.jsx)("title",{children:"Suppliers"})}),(0,a.jsx)(x.Ix,{}),(0,a.jsx)(i.Z,{user:t,title:"Suppliers",children:(0,a.jsx)("div",{className:"content",children:(0,a.jsxs)("div",{className:"custom-card",children:[(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"col-md-9",children:(0,a.jsx)(l.default,{href:"/supplier/create",children:(0,a.jsxs)("a",{className:"btn btn-success",children:[(0,a.jsx)("i",{className:"fa-solid fa-plus"})," Add New Supplier"]})})}),(0,a.jsx)("div",{className:"col-md-3",children:(0,a.jsx)("form",{children:(0,a.jsx)("div",{className:"row",children:(0,a.jsx)("div",{className:"col",children:(0,a.jsx)("input",{type:"text",className:"form-control terms",placeholder:"Search supplier",name:"email",onKeyUp:y,onKeyDown:y,onChange:y})})})})})]}),(0,a.jsxs)("table",{className:"table mt-4",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{width:"5%",children:"Sl"}),(0,a.jsx)("th",{width:"30%",children:"Name"}),(0,a.jsx)("th",{width:"15%",children:"Mobile"}),(0,a.jsx)("th",{width:"20%",children:"Address"}),(0,a.jsx)("th",{width:"20%",children:"Balance"}),(0,a.jsx)("th",{width:"10%",children:"Action"})]})}),(0,a.jsxs)("tbody",{children:[d&&d.length<=0&&(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:6,className:"text-center",children:"No Supplier Found"})}),d&&!w&&d.map((function(e,t){return(0,a.jsxs)("tr",{valign:"middle",className:"row-id-".concat(e.id),children:[(0,a.jsx)("td",{children:t+1}),(0,a.jsx)("td",{children:e.name}),(0,a.jsx)("td",{children:e.mobile}),(0,a.jsx)("td",{children:e.address}),(0,a.jsxs)("td",{children:[e.balance?e.balance:0," Tk."]}),(0,a.jsxs)("td",{children:[(0,a.jsx)(l.default,{href:"/supplier/".concat(e.id),children:(0,a.jsx)("a",{className:"btn btn-warning btn-sm me-2",children:(0,a.jsx)("i",{className:"fa-solid fa-pen-to-square"})})}),(0,a.jsx)("a",{className:"btn btn-danger btn-sm",onClick:function(t){t.preventDefault(),confirm("Want to delete?")&&A(e.id)},children:(0,a.jsx)("i",{className:"fa-solid fa-trash-can"})})]})]},e.id)}))||(0,a.jsx)(h.Z,{tr:3,td:6})]}),(0,a.jsx)("tfoot",{children:(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:6,children:(0,a.jsx)("nav",{className:"float-end",children:(0,a.jsx)("ul",{className:"pagination mt-3",children:v.map((function(e){return(0,a.jsx)("li",{className:"page-item ".concat(!0===e.active?"active":""),children:(0,a.jsx)("a",{className:"page-link",onClick:function(){return C(e.url)},dangerouslySetInnerHTML:{__html:e.label}})},e.label)}))})})})})})]})]})})})]})}}},function(e){e.O(0,[571,619,669,782,27,774,888,179],(function(){return t=9466,e(e.s=t);var t}));var t=e.O();_N_E=t}]);