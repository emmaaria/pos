(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8581:function(e,r,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(4369)}])},4369:function(e,r,s){"use strict";s.r(r),s.d(r,{__N_SSP:function(){return g},default:function(){return b}});var o=s(4051),t=s.n(o),n=s(5893),a=s(9008),i=s(2470),c=s.n(i),l=s(9755),u=s.n(l),d=s(9669),m=s.n(d),p=s(5538),f=s(1163);function h(e,r,s,o,t,n,a){try{var i=e[n](a),c=i.value}catch(l){return void s(l)}i.done?r(c):Promise.resolve(c).then(o,t)}var g=!0;function b(){var e=(0,f.useRouter)(),r=function(){var r,s=(r=t().mark((function r(s){var o,n;return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(s.preventDefault(),p.Am.loading("Loading",{position:"bottom-left",theme:"dark"}),o=u()(".email").val(),n=u()(".password").val(),""!==o){r.next=8;break}return p.Am.dismiss(),p.Am.error("Email is required",{position:"bottom-left",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"dark"}),r.abrupt("return");case 8:if(""!==n){r.next=12;break}return p.Am.dismiss(),p.Am.error("Password is required",{position:"bottom-left",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"dark"}),r.abrupt("return");case 12:m().post("".concat("http://pos-backend.webxcode.xyz/api","/login"),{email:o,password:n}).then((function(r){!0===r.data.status?m().post("/api/auth/login",{id:r.data.user.id,name:r.data.user.name,email:r.data.user.email,token:r.data.token}).then((function(){p.Am.dismiss(),p.Am.success("Successfully Logged In",{position:"bottom-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"dark"}),e.replace("/dashboard")})).catch((function(e){p.Am.dismiss(),p.Am.error(e.response.data,{position:"bottom-left",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"dark"})})):(p.Am.dismiss(),p.Am.error(r.data.errors,{position:"bottom-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"dark"}))})).catch((function(e){p.Am.dismiss(),p.Am.error(e.response.data,{position:"bottom-left",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"dark"})}));case 13:case"end":return r.stop()}}),r)})),function(){var e=this,s=arguments;return new Promise((function(o,t){var n=r.apply(e,s);function a(e){h(n,o,t,a,i,"next",e)}function i(e){h(n,o,t,a,i,"throw",e)}a(void 0)}))});return function(e){return s.apply(this,arguments)}}();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(a.default,{children:[(0,n.jsx)("title",{children:"Login"}),(0,n.jsx)("link",{rel:"icon",href:"/fav.png"})]}),(0,n.jsx)(p.Ix,{}),(0,n.jsx)("div",{className:c().wrapper,children:(0,n.jsx)("div",{className:c().formWrapper,children:(0,n.jsxs)("form",{onSubmit:r,children:[(0,n.jsx)("h1",{className:"text-center",children:"Login"}),(0,n.jsx)("div",{className:"mb-3",children:(0,n.jsx)("input",{type:"email",className:"form-control email",placeholder:"Email Address"})}),(0,n.jsx)("div",{className:"mb-3",children:(0,n.jsx)("input",{type:"password",className:"form-control password",placeholder:"Password"})}),(0,n.jsx)("button",{className:"btn btn-success d-block w-100",type:"submit",children:"Login"})]})})})]})}},2470:function(e){e.exports={wrapper:"Login_wrapper__zlhh7",formWrapper:"Login_formWrapper__A0qYy"}},9008:function(e,r,s){e.exports=s(3121)},1163:function(e,r,s){e.exports=s(880)}},function(e){e.O(0,[571,669,782,774,888,179],(function(){return r=8581,e(e.s=r);var r}));var r=e.O();_N_E=r}]);