(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[428],{9466:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/supplier",function(){return a(7145)}])},4609:function(e,t,a){"use strict";a.d(t,{Z:function(){return o}});var n=a(5893),s=a(7294);const r=s.createContext({});function c({baseColor:e,highlightColor:t,width:a,height:n,borderRadius:s,circle:r,direction:c,duration:i,enableAnimation:l=true}){const o={};return"rtl"===c&&(o["--animation-direction"]="reverse"),"number"===typeof i&&(o["--animation-duration"]=`${i}s`),l||(o["--pseudo-element-display"]="none"),"string"!==typeof a&&"number"!==typeof a||(o.width=a),"string"!==typeof n&&"number"!==typeof n||(o.height=n),"string"!==typeof s&&"number"!==typeof s||(o.borderRadius=s),r&&(o.borderRadius="50%"),"undefined"!==typeof e&&(o["--base-color"]=e),"undefined"!==typeof t&&(o["--highlight-color"]=t),o}function i({count:e=1,wrapper:t,className:a,containerClassName:n,containerTestId:i,circle:l=!1,style:o,...d}){var u,h,p;const m=s.useContext(r),f={...d};for(const[s,r]of Object.entries(d))"undefined"===typeof r&&delete f[s];const x={...m,...f,circle:l},j={...o,...c(x)};let g="react-loading-skeleton";a&&(g+=` ${a}`);const v=null!==(u=x.inline)&&void 0!==u&&u,N=[],b=Math.ceil(e);for(let r=0;r<b;r++){let t=j;if(b>e&&r===b-1){const a=null!==(h=t.width)&&void 0!==h?h:"100%",n=e%1,s="number"===typeof a?a*n:`calc(${a} * ${n})`;t={...t,width:s}}const a=s.createElement("span",{className:g,style:t,key:r},"\u200c");v?N.push(a):N.push(s.createElement(s.Fragment,{key:r},a,s.createElement("br",null)))}return s.createElement("span",{className:n,"data-testid":i,"aria-live":"polite","aria-busy":null===(p=x.enableAnimation)||void 0===p||p},t?N.map(((e,a)=>s.createElement(t,{key:a},e))):N)}function l({children:e,...t}){return s.createElement(r.Provider,{value:t},e)}function o(e){for(var t=e.td,a=e.tr,s=[],r=0;r<a;r++)s.push(r);for(var c=[],o=0;o<t;o++)c.push(o);return s.map((function(e,t){return(0,n.jsx)("tr",{children:c.map((function(e,t){return(0,n.jsx)("td",{children:(0,n.jsx)(l,{baseColor:"#0E1947",highlightColor:"#15245E",children:(0,n.jsx)("p",{children:(0,n.jsx)(i,{width:"100%",height:30})})})},t)}))},t)}))}},9629:function(e,t,a){"use strict";a.d(t,{Z:function(){return g}});var n=a(5893),s=a(155),r=a.n(s);function c(e){var t=e.title;return(0,n.jsxs)("div",{className:r().topBar,children:[(0,n.jsx)("div",{className:r().logoBox}),(0,n.jsx)("h4",{className:r().pageTitle,children:t})]})}var i=a(2214),l=a.n(i),o=a(5675),d=a(5208),u=a.n(d);function h(e){var t=e.src;return!0===e.circle?(0,n.jsx)("div",{className:u().unsetImg,children:(0,n.jsx)(o.default,{src:t,layout:"fill",className:"".concat(u().customImg," ").concat(u().circle),alt:"Logo"})}):(0,n.jsx)("div",{className:u().unsetImg,children:(0,n.jsx)(o.default,{src:t,layout:"fill",className:u().customImg,alt:"Logo"})})}var p=a(1664),m=a(1163),f=a(9755),x=a.n(f);function j(e){var t=e.user,a=(0,m.useRouter)();return(0,n.jsxs)("div",{className:l().sidebar,children:[(0,n.jsx)("div",{className:l().avatar,children:(0,n.jsx)(h,{src:"/avatar.jpg",circle:!0})}),(0,n.jsx)("p",{className:l().userName,children:t.name}),(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:(0,n.jsx)(p.default,{href:"/dashboard",children:(0,n.jsxs)("a",{className:"\n                                ".concat("/dashboard"===a.pathname?l().active:"","\n                            "),children:[(0,n.jsx)("i",{className:"fa-solid fa-gauge-high"}),"Dashboard"]})})}),(0,n.jsx)("li",{children:(0,n.jsx)(p.default,{href:"/product",children:(0,n.jsxs)("a",{className:"\n                                ".concat("/product"===a.pathname||"/product/create"===a.pathname||"/product/[id]"===a.pathname?l().active:"","\n                            "),children:[(0,n.jsx)("i",{className:"fa-solid fa-bag-shopping"}),"Products"]})})}),(0,n.jsx)("li",{children:(0,n.jsx)(p.default,{href:"/category",children:(0,n.jsxs)("a",{className:"\n                                ".concat("/category"===a.pathname||"/category/create"===a.pathname||"/category/[id]"===a.pathname?l().active:"","\n                            "),children:[(0,n.jsx)("i",{className:"fa-solid fa-book"}),"Category"]})})}),(0,n.jsxs)("li",{children:[(0,n.jsx)(p.default,{href:"/customer",children:(0,n.jsxs)("a",{onClick:function(e){e.preventDefault(),x()(".customerMenu").slideToggle(),x()(".ci").toggleClass("open")},className:"\n                                ".concat("/customer"===a.pathname||"/customer/create"===a.pathname||"/customer/[id]"===a.pathname?l().active:"","\n                            "),children:[(0,n.jsx)("i",{className:"fa-solid fa-user-group"}),"Customer",(0,n.jsx)("span",{className:"fa-solid fa-angle-right float-end ".concat(l().dropdownIcon," ci")})]})}),(0,n.jsxs)("ul",{className:"customerMenu ".concat(l().subMenu),children:[(0,n.jsx)("li",{children:(0,n.jsx)(p.default,{href:"/customer",children:(0,n.jsx)("a",{className:"\n                                ".concat("/customer"===a.pathname||"/customer/[id]"===a.pathname?l().active:"","\n                            "),children:"Customer List"})})}),(0,n.jsx)("li",{children:(0,n.jsx)(p.default,{href:"/customer/create",children:(0,n.jsx)("a",{className:"\n                                ".concat("/customer/create"===a.pathname?l().active:"","\n                            "),children:"Add Customer"})})}),(0,n.jsx)("li",{children:(0,n.jsx)(p.default,{href:"/customer/ledger",children:(0,n.jsx)("a",{className:"\n                                ".concat("/customer/ledger"===a.pathname?l().active:"","\n                            "),children:"Customer Ledger"})})})]})]}),(0,n.jsxs)("li",{children:[(0,n.jsx)(p.default,{href:"/supplier",children:(0,n.jsxs)("a",{onClick:function(e){e.preventDefault(),x()(".supplierMenu").slideToggle(),x()(".si").toggleClass("open")},className:"\n                                ".concat("/supplier"===a.pathname||"/supplier/create"===a.pathname||"/supplier/[id]"===a.pathname?l().active:"","\n                            "),children:[(0,n.jsx)("i",{className:"fa-solid fa-users"}),"Supplier",(0,n.jsx)("span",{className:"fa-solid fa-angle-right float-end ".concat(l().dropdownIcon," si")})]})}),(0,n.jsxs)("ul",{className:"supplierMenu ".concat(l().subMenu),children:[(0,n.jsx)("li",{children:(0,n.jsx)(p.default,{href:"/supplier",children:(0,n.jsx)("a",{className:"\n                                ".concat("/supplier"===a.pathname||"/supplier/[id]"===a.pathname?l().active:"","\n                            "),children:"Supplier List"})})}),(0,n.jsx)("li",{children:(0,n.jsx)(p.default,{href:"/supplier/create",children:(0,n.jsx)("a",{className:"\n                                ".concat("/supplier/create"===a.pathname?l().active:"","\n                            "),children:"Add Supplier"})})}),(0,n.jsx)("li",{children:(0,n.jsx)(p.default,{href:"/supplier/ledger",children:(0,n.jsx)("a",{className:"\n                                ".concat("/supplier/ledger"===a.pathname?l().active:"","\n                            "),children:"Supplier Ledger"})})})]})]}),(0,n.jsx)("li",{children:(0,n.jsx)(p.default,{href:"/unit",children:(0,n.jsxs)("a",{className:"\n                                ".concat("/unit"===a.pathname||"/unit/create"===a.pathname||"/unit/[id]"===a.pathname?l().active:"","\n                            "),children:[(0,n.jsx)("i",{className:"fa-solid fa-scale-balanced"}),"Unit"]})})})]})]})}function g(e){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c,{title:e.title}),(0,n.jsx)(j,{user:e.user}),e.children]})}},7145:function(e,t,a){"use strict";a.r(t),a.d(t,{__N_SSP:function(){return g},default:function(){return v}});var n=a(4051),s=a.n(n),r=a(5893),c=a(9629),i=a(9008),l=a(1664),o=a(7294),d=a(9669),u=a.n(d),h=a(4609),p=a(9755),m=a.n(p),f=a(5538);function x(e,t,a,n,s,r,c){try{var i=e[r](c),l=i.value}catch(o){return void a(o)}i.done?t(l):Promise.resolve(l).then(n,s)}function j(e){return function(){var t=this,a=arguments;return new Promise((function(n,s){var r=e.apply(t,a);function c(e){x(r,n,s,c,i,"next",e)}function i(e){x(r,n,s,c,i,"throw",e)}c(void 0)}))}}var g=!0;function v(e){var t=e.user,a=(0,o.useState)(),n=a[0],d=a[1],p=(0,o.useState)([]),x=p[0],g=p[1],v=(0,o.useState)(0),N=v[0],b=v[1];function _(){return w.apply(this,arguments)}function w(){return(w=j(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u().post("/api/supplier",{page:N});case 3:200===(t=e.sent).status&&(d(t.data.suppliers),g(t.data.totalPages)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}(0,o.useEffect)((function(){_()}),[d]);var y=function(){var e=j(s().mark((function e(){var t,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m()(".terms").val(),e.prev=1,e.next=4,u().post("/api/supplier",{name:t,page:0});case 4:200===(a=e.sent).status&&(d(a.data.suppliers),g(a.data.totalPages)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=j(s().mark((function e(t){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u().post("/api/supplier",{page:t});case 3:200===(a=e.sent).status&&(d(a.data.customers),g(a.data.totalPages),b(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=j(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.Am.loading("Deleting",{position:"bottom-right",theme:"dark"}),e.prev=1,e.next=4,u().post("/api/supplier/delete",{id:t});case 4:if(201!==e.sent.status){e.next=10;break}return f.Am.dismiss(),f.Am.success("Successfully Deleted",{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"dark"}),e.next=10,_();case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),f.Am.dismiss(),f.Am.error(e.t0.response.data,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"dark"});case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),S=function(e){var t=0,a=0;return e.filter((function(e){"dv"===e.transactionType?t+=e.amount:a+=e.amount})),t-a};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.default,{children:(0,r.jsx)("title",{children:"Suppliers"})}),(0,r.jsx)(f.Ix,{}),(0,r.jsx)(c.Z,{user:t,title:"Suppliers",children:(0,r.jsx)("div",{className:"content",children:(0,r.jsxs)("div",{className:"custom-card",children:[(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-md-9",children:(0,r.jsx)(l.default,{href:"/supplier/create",children:(0,r.jsxs)("a",{className:"btn btn-success",children:[(0,r.jsx)("i",{className:"fa-solid fa-plus"})," Add New Supplier"]})})}),(0,r.jsx)("div",{className:"col-md-3",children:(0,r.jsx)("form",{children:(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col",children:(0,r.jsx)("input",{type:"text",className:"form-control terms",placeholder:"Search supplier",name:"email",onKeyUp:y,onKeyDown:y,onChange:y})})})})})]}),(0,r.jsxs)("table",{className:"table mt-4",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{width:"5%",children:"Sl"}),(0,r.jsx)("th",{width:"30%",children:"Name"}),(0,r.jsx)("th",{width:"15%",children:"Phone"}),(0,r.jsx)("th",{width:"20%",children:"Address"}),(0,r.jsx)("th",{width:"20%",children:"Balance"}),(0,r.jsx)("th",{width:"10%",children:"Action"})]})}),(0,r.jsxs)("tbody",{children:[n&&n.length<=0&&(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:6,className:"text-center",children:"No Supplier Found"})}),n&&n.map((function(e,t){return(0,r.jsxs)("tr",{valign:"middle",children:[(0,r.jsx)("td",{children:t+1}),(0,r.jsx)("td",{children:e.name}),(0,r.jsx)("td",{children:e.mobile}),(0,r.jsx)("td",{children:e.address}),(0,r.jsxs)("td",{children:[S(e.transactions)," Tk."]}),(0,r.jsxs)("td",{children:[(0,r.jsx)(l.default,{href:"/supplier/".concat(e._id),children:(0,r.jsx)("a",{className:"btn btn-warning btn-sm me-2",children:(0,r.jsx)("i",{className:"fa-solid fa-pen-to-square"})})}),(0,r.jsx)("a",{className:"btn btn-danger btn-sm",onClick:function(t){t.preventDefault(),confirm("Want to delete?")&&C(e._id)},children:(0,r.jsx)("i",{className:"fa-solid fa-trash-can"})})]})]},e._id)}))||(0,r.jsx)(h.Z,{tr:3,td:6})]}),(0,r.jsx)("tfoot",{children:(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:6,children:(0,r.jsx)("nav",{className:"float-end",children:(0,r.jsx)("ul",{className:"pagination mt-3",children:x.map((function(e){return(0,r.jsx)("li",{className:"page-item ".concat(N===e?"active":""),children:(0,r.jsx)("a",{className:"page-link",onClick:function(){return k(e)},children:e+1})},e)}))})})})})})]})]})})})]})}},5208:function(e){e.exports={customImg:"CustomImage_customImg__xW4_c",circle:"CustomImage_circle__xh9GU",unsetImg:"CustomImage_unsetImg__zmucL"}},2214:function(e){e.exports={sidebar:"Sidebar_sidebar___c9st",avatar:"Sidebar_avatar__Zsdwp",userName:"Sidebar_userName__GcLoc",active:"Sidebar_active___WQjj",dropdownIcon:"Sidebar_dropdownIcon__29uPR",subMenu:"Sidebar_subMenu__qi3Rh"}},155:function(e){e.exports={topBar:"TopBar_topBar__uVF4B",pageTitle:"TopBar_pageTitle__7KGK3",logoBox:"TopBar_logoBox__GxJfu"}}},function(e){e.O(0,[571,789,61,774,888,179],(function(){return t=9466,e(e.s=t);var t}));var t=e.O();_N_E=t}]);